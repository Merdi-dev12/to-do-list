<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archade</title>
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="navbar.css">
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="footer.css">
</head>
<body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark px-3">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="#">
                 <img src="9391712.png" alt="Logo Archade" style="height: 40px;" class="me-2">
                <span>Archade</span>
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
                 <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarContent">

            <div class="collapse navbar-collapse" id="navbarContent">
               <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link active" href="Home.html">Accueil</a></li>
                    <li class="nav-item"><a class="nav-link" href="Travaux.html">Travaux</a></li>
                    <li class="nav-item"><a class="nav-link" href="Communaut√©s.html">Communaut√©s</a></li>
                    <li class="nav-item"><a class="nav-link" href="Messages.html">Messages</a></li>
                    <li class="nav-item"><a class="nav-link" href="Document.html">Documents</a></li>
                </ul>

                <div class="input-group mb-3">
                    <input type="text" class="form-control search" placeholder="Rechercher une t√¢che..." aria-label="Champ de recherche">
                    <button class="btn btn-outline-primary btn" type="button">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 i-search">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                        </svg>
                    </button>
                </div>

               <a href="connexion.html" class="btn btn-primary btn-connect">Connexion</a>
            </div>
        </div>
    </nav>

    <div class="container py-5">
        <div class="row">
            <!-- Colonne gauche : Tableau des t√¢ches -->
            <div class="col-md-6">
                <h4 class="mb-3">üìã T√¢ches enregistr√©es</h4>
                <table class="table table-bordered table-striped">
                    <thead class="table-dark">
                        <tr>
                           <th>Nom</th>
                           <th>Dur√©e (h)</th>
                           <th>D√©but</th>
                           <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="taskTable">
                    <!-- T√¢ches inject√©es ici -->
                    </tbody>
                </table>
            </div>

            <!-- Colonne droite : Formulaire + Statistiques -->
            <div class="col-md-6">
                <div class="card shadow-sm mb-4">
                    <div class="card-body">
                        <h4 class="card-title mb-4 text-center">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 i-add">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                            </svg>
                            <span>Ajouter une t√¢che</span>
                        </h4>

                        <form id="todoForm">
                            <div class="mb-3">
                                <label for="taskName" class="form-label">Nom de la t√¢che</label>
                                <input type="text" class="form-control" id="taskName" required>
                            </div>

                            <div class="mb-3">
                                <label for="taskDuration" class="form-label">Dur√©e estim√©e (h)</label>
                                <input type="number" class="form-control" id="taskDuration" min="1" required>
                            </div>

                            <div class="mb-3">
                                <label for="taskStart" class="form-label">Date de commencement</label>
                                <input type="date" class="form-control" id="taskStart" required>
                            </div>
                            <button type="submit" class="btn btn-primary w-100">Ajouter</button>
                        </form>
                    </div>
                </div>

                <div class="card bg-light shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title mb-3">üìä Statistiques</h5>
                        <ul class="list-group">
                            <li class="list-group-item d-flex justify-content-between">
                                <span>Total de t√¢ches</span>
                                <span id="totalCount">0</span>
                            </li>

                            <li class="list-group-item d-flex justify-content-between">
                                <span>Dur√©e totale (h)</span>
                                <span id="totalDuration">0</span>
                            </li>

                            <li class="list-group-item d-flex justify-content-between">
                                <span>Prochaine t√¢che</span>
                                <span id="nextTask">‚Äî</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-light py-4 mt-5 fade-in">
        <div class="container">
            <div class="row align-items-center">
                <!-- Colonne gauche : Infos -->
                <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                    <p class="mb-0">¬© 2025 Merdi Dev. Tous droits r√©serv√©s.</p>
                </div>

                <!-- Colonne droite : Liens -->
                <div class="col-md-6 text-center text-md-end">
                    <a href="home.html" class="text-light me-3 text-decoration-none">Accueil</a>
                    <a href="Apropos.html" class="text-light me-3 text-decoration-none">√Ä propos</a>
                    <a href="#Contacts.html" class="text-light text-decoration-none me-3">Contacts</a>
                    <a href="https://github.com/tonprofil" target="_blank" class="text-light me-2">
                        <i class="bi bi-github i-foot"></i>
                    </a>
                    <a href="https://linkedin.com/in/tonprofil" target="_blank" class="text-light">
                        <i class="bi bi-linkedin i-foot"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>



    <script src="Bootstrap/bootstrap.bundle.min.js"></script>

    <script>
        const form = document.getElementById('todoForm');
        const taskName = document.getElementById('taskName');
        const taskDuration = document.getElementById('taskDuration');
        const taskStart = document.getElementById('taskStart');
        const taskTable = document.getElementById('taskTable');

        const totalCount = document.getElementById('totalCount');
        const totalDuration = document.getElementById('totalDuration');
        const nextTask = document.getElementById('nextTask');

        let tasks = [];

        form.addEventListener('submit', function(e) {
            e.preventDefault(); // Emp√™che le rechargement de la page

            const name = taskName.value.trim();
            const duration = parseInt(taskDuration.value);
            const start = taskStart.value;

            if (!name || isNaN(duration) || !start) {
            alert("Remplis tous les champs correctement !");
            return;
            }

            const task = { name, duration, start };
            tasks.push(task);

            taskName.value = ''; 
            taskDuration.value = '';
            taskStart.value = '';

            renderTable();
            updateStats();
        });

        function renderTable() {
            taskTable.innerHTML = '';
            tasks.forEach((task, index) => {
              const row = document.createElement('tr');
              row.innerHTML = `
                <td>${task.name}</td>
                <td>${task.duration}</td>
                <td>${task.start}</td>
                <td>
                    <button class="btn btn-sm btn-danger" onclick="deleteTask(${index})">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 i-del">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" />
                        </svg>
                    </button>
                </td>
      `         ;
               taskTable.appendChild(row);
            });
        }

        function deleteTask(index) {
            tasks.splice(index, 1);
            renderTable();
            updateStats();
        }

        function updateStats() {
            totalCount.textContent = tasks.length;
            totalDuration.textContent = tasks.reduce((sum, t) => sum + t.duration, 0);

            if (tasks.length > 0) {
                const next = tasks.reduce((earliest, t) => {
                return (!earliest || t.start < earliest.start) ? t : earliest;
                }, null);
                nextTask.textContent = `${next.name} (${next.start})`;
            } else {
                nextTask.textContent = '‚Äî';
            }
        }
    </script>
</body>

</html>
